{"mappings":"gfAAA,IAOoBA,EACFC,EARlBC,EAAAC,EAAA,S,uCAMMC,GADSC,SAASC,cAAc,cACzBD,SAASC,cAAc,aAC9BC,EAAmE,QAArDP,EAAAQ,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOC,sBAAc,IAArDb,IAAyD,GACvEc,EAA+D,QAAnDb,EAAAO,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOG,oBAAY,IAAnDd,IAAuD,GAoCzE,SAASe,EAAYC,GACnB,IAAMC,EAAYC,OAAOF,EAAKG,QAAQ,YAAYC,QAAQC,IAC1D,OAAOC,EAAAC,YAAYC,MAAK,SAAAC,G,OAAKA,EAAFJ,KAAgBJ,C,KApC7C,EAAAS,EAAAC,cAAaL,EAAAC,YAAapB,GAE1BA,EAAKyB,iBAAiB,SAEtB,SAAiBC,GAGf,GAFAA,EAAIC,iBAEAD,EAAIE,OAAOC,UAAUC,SAAS,WAAY,CAC5C,IAAMC,EAAUnB,EAAYc,EAAIE,SAChC,EAAAI,EAAAC,aAAYF,GACZG,QAAQC,IAAIJ,E,CAEd,GAAIL,EAAIE,OAAOC,UAAUC,SAAS,eAAgB,CAChD,IAAMM,EAAUxB,EAAYc,EAAIE,QAEhC,GADmBzB,EAAYkC,MAAK,SAAAf,G,OAAKA,EAAFJ,KAAgBkB,EAAQlB,E,IAE7D,OAEFf,EAAYmC,KAAKF,GACjB9B,aAAaiC,QAAQzC,EAAAU,OAAOC,aAAcL,KAAKoC,UAAUrC,IACzD+B,QAAQC,IAAIhC,E,CAGd,GAAIuB,EAAIE,OAAOC,UAAUC,SAAS,aAAc,CAC9C,IAAMW,EAAU7B,EAAYc,EAAIE,QAKhClB,EAAU4B,KAAKG,GACfnC,aAAaiC,QAAQzC,EAAAU,OAAOG,WAAYP,KAAKoC,UAAU9B,G","sources":["src/index.js"],"sourcesContent":["import { common } from './common';\nimport { createMurkup } from './helpers/helper';\nimport { createModal } from './helpers/createModal';\nimport { instruments } from './helpers/instruments';\n\nconst search = document.querySelector('.js_search');\nconst list = document.querySelector('.js_list');\nconst favoriteArr = JSON.parse(localStorage.getItem(common.FAVORITE_KEY)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.BASKET_KEY)) ?? [];\n\ncreateMurkup(instruments, list);\n\nlist.addEventListener('click', onclick);\n\nfunction onclick(evt) {\n  evt.preventDefault();\n\n  if (evt.target.classList.contains('js_info')) {\n    const product = findProduct(evt.target);\n    createModal(product);\n    console.log(product);\n  }\n  if (evt.target.classList.contains('js_favorite')) {\n    const product = findProduct(evt.target);\n    const inFavorite = favoriteArr.some(({ id }) => id === product.id);\n    if (inFavorite) {\n      return;\n    }\n    favoriteArr.push(product);\n    localStorage.setItem(common.FAVORITE_KEY, JSON.stringify(favoriteArr));\n    console.log(favoriteArr);\n  }\n\n  if (evt.target.classList.contains('js_basket')) {\n    const product = findProduct(evt.target);\n    // const inBasket = basketArr.some(({ id }) => id === product.id);\n    // if (inBasket) {\n    //   return;\n    // }\n    basketArr.push(product);\n    localStorage.setItem(common.BASKET_KEY, JSON.stringify(basketArr));\n  }\n}\n\nfunction findProduct(elem) {\n  const productId = Number(elem.closest('.js_card').dataset.id);\n  return instruments.find(({ id }) => id === productId);\n}\n"],"names":["$b8f9b7833fa37166$var$ref","$b8f9b7833fa37166$var$ref1","$7jJJd","parcelRequire","$b8f9b7833fa37166$var$list","document","querySelector","$b8f9b7833fa37166$var$favoriteArr","JSON","parse","localStorage","getItem","common","FAVORITE_KEY","$b8f9b7833fa37166$var$basketArr","BASKET_KEY","$b8f9b7833fa37166$var$findProduct","elem","productId","Number","closest","dataset","id","$IPVlA","instruments","find","param","$j2pQV","createMurkup","addEventListener","evt","preventDefault","target","classList","contains","product","$87LyB","createModal","console","log","product1","some","push","setItem","stringify","product2"],"version":3,"file":"index.c8bfc09b.js.map"}